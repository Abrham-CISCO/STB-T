doctype html
include ../../../SharedComponents/Layouts/header.jade
html
  head
    meta(charset='utf-8')
    |   
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    |   
    title #{user.gubaye.name}
    // Tell the browser to be responsive to screen width
    meta(name='viewport', content='width=device-width, initial-scale=1')
    // Font Awesome
    link(rel='stylesheet', href='https://localhost:3000/adminlite/plugins/fontawesome-free/css/all.min.css')
    // Ionicons
    link(rel='stylesheet', href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
    // Theme style
    link(rel='stylesheet', href='static/dist/css/adminlte.min.css')
    // Google Font: Source Sans Pro
    link(href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700', rel='stylesheet')
    script(src='/ADMINLITE/plugins/jquery/jquery.min.js')

  body.hold-transition.sidebar-mini
    .wrapper
      // Navbar
      include ../../../SharedComponents/Layouts/navigation.jade
      // Main Sidebar Container
      include ../../../SharedComponents/Layouts/sidebarNU.jade
      script(src="/workspaces/SierateTimhert/js/GubayeTSDA.js") 

      // Content Wrapper. Contains page content
      .content-wrapper
        // Content Header (Page header)
        section.content-header
          .container-fluid
            .row.mb-2
              .col-sm-12
                h1 ጉባኤ #{user.gubaye.name}
              |           
              .col-sm-12
                ol.breadcrumb.float-sm-right
                  li.breadcrumb-item
                    a(href='/SirateTimhert/DepartmentAdmin') ስዕራተ ትምህርት ንኡስ ክፍል
                  li.breadcrumb-item.active ጉባኤ #{user.gubaye.name}
            .row
              .col-md-12
                .card
                  .card-header.p-2
                    ul.nav.nav-pills
                      li.nav-item
                        a.nav-link.active(href='#member', data-toggle='tab') አባላት
                      |                   
                      li.nav-item
                        a.nav-link(href='#education', data-toggle='tab') ትምህርት
                      |                   
                      li.nav-item
                        a.nav-link(href='#management', data-toggle='tab') አስተካክል
                  // /.card-header
                  .card-body
                    .tab-content
                      #member.active.tab-pane
                        .row
                          .col-12.col-sm-12.col-md-12
                            if(user.gubayemembers)
                              each val in user.gubayemembers
                                .col-12.col-sm-6.col-md-3
                                  .info-box.mb-3
                                    span.info-box-icon.bg-success.elevation-1
                                      img(src="../../#{val.pro_img}" alt="User Image")
                                    .info-box-content
                                      a.users-list-name(href="/accounts/public/profile/#{val.telephone}") #{val.name}
                                      a(href="/SirateTimhert/Gubaye_Nius_Sebsabi/#{user.gubaye._id}/Remove/#{val.telephone}")
                                        button(type='button', class="btn btn-block btn-danger btn-xs") Remove
                              button(type='button', class="btn btn-block btn-primary btn-lg", data-toggle='modal', data-target='#modal-sm')
                                div(class="fas fa-plus nav-plus")
                              a(href="#" class="users-list-name") አባል ጨምር
                                
                                  // jQuery

                        // Bootstrap 4
                        script(src='/ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
                        // SweetAlert2
                        script(src='/ADMINLITE/plugins/sweetalert2/sweetalert2.min.js')
                        // Toastr
                        script(src='/ADMINLITE/plugins/toastr/toastr.min.js')
                        // AdminLTE App
                        script(src='/ADMINLITE/dist/js/adminlte.min.js')
                        // AdminLTE for demo purposes
                        script(src='/ADMINLITE/dist/js/demo.js')

                      #modal-sm.modal.fade(style='display: none;', aria-hidden='true')
                        .modal-dialog.modal-course
                          .modal-content
                            .modal-header
                              h4.modal-title ጉባኤ #{user.gubaye.name} : አዲስ አባል ይጨምሩ
                              button.close(type='button', data-dismiss='modal', aria-label='Close')
                                span(aria-hidden='true') ×
                            .modal-body
                              // Font Awesome
                              link(rel='stylesheet', href='/ADMINLITE/plugins/fontawesome-free/css/all.min.css')
                              // Ionicons
                              link(rel='stylesheet', href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
                              // daterange picker
                              link(rel='stylesheet', href='/ADMINLITE/plugins/daterangepicker/daterangepicker.css')
                              // iCheck for checkboxes and radio inputs
                              link(rel='stylesheet', href='/ADMINLITE/plugins/icheck-bootstrap/icheck-bootstrap.min.css')
                              // Bootstrap Color Picker
                              link(rel='stylesheet', href='/ADMINLITE/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css')
                              // Tempusdominus Bbootstrap 4
                              link(rel='stylesheet', href='/ADMINLITE/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css')
                              // Select2
                              link(rel='stylesheet', href='/ADMINLITE/plugins/select2/css/select2.min.css')
                              link(rel='stylesheet', href='/ADMINLITE/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css')
                              // Bootstrap4 Duallistbox
                              link(rel='stylesheet', href='/ADMINLITE/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css')
                              // Theme style
                              link(rel='stylesheet', href='/ADMINLITE/dist/css/adminlte.min.css')
                              // Google Font: Source Sans Pro
                              link(href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700', rel='stylesheet')
                              .form-group(data-select2-id='39')
                                label ወደ ጉባኤው ለማስገባት የሚፈልጉትን አባል ይምረጡና ሲጨርስሱ Save የሚለውን በተን ይጫኑ 
                                select.select2.select2-hidden-accessible(multiple='', data-placeholder='አባል ይምረጡ', style='width: 100%;', data-select2-id='7', tabindex='-1', aria-hidden='true')
                                  each uuser in user.allusers
                                    option(data-select2-id='#{uuser._id}' value='#{uuser._id}') #{uuser.name}
                               // Bootstrap 4
                              script(src='/ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
                              // Select2
                              script(src='/ADMINLITE/plugins/select2/js/select2.full.min.js')
                              // Bootstrap4 Duallistbox
                              script(src='/ADMINLITE/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js')
                              // InputMask
                              script(src='/ADMINLITE/plugins/moment/moment.min.js')
                              script(src='/ADMINLITE/plugins/inputmask/min/jquery.inputmask.bundle.min.js')
                              // date-range-picker
                              script(src='/ADMINLITE/plugins/daterangepicker/daterangepicker.js')
                              // bootstrap color picker
                              script(src='/ADMINLITE/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js')
                              // Tempusdominus Bootstrap 4
                              script(src='/ADMINLITE/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js')
                              // Bootstrap Switch
                              script(src='/ADMINLITE/plugins/bootstrap-switch/js/bootstrap-switch.min.js')
                              // AdminLTE App
                              script(src='/ADMINLITE/dist/js/adminlte.min.js')
                              // AdminLTE for demo purposes
                              script(src='/ADMINLITE/dist/js/demo.js')
                              // Page script
                              script.
                                $(function () {
                                //Initialize Select2 Elements
                                $('.select2').select2()
                                //Initialize Select2 Elements
                                $('.select2bs4').select2({
                                theme: 'bootstrap4'
                                })
                                //Datemask dd/mm/yyyy
                                $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                                //Datemask2 mm/dd/yyyy
                                $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
                                //Money Euro
                                $('[data-mask]').inputmask()
                                //Date range picker
                                $('#reservation').daterangepicker()
                                //Date range picker with time picker
                                $('#reservationtime').daterangepicker({
                                timePicker: true,
                                timePickerIncrement: 30,
                                locale: {
                                format: 'MM/DD/YYYY hh:mm A'
                                }
                                })
                                //Date range as a button
                                $('#daterange-btn').daterangepicker(
                                {
                                ranges   : {
                                'Today'       : [moment(), moment()],
                                'Yesterday'   : [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                                'Last 7 Days' : [moment().subtract(6, 'days'), moment()],
                                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                                'This Month'  : [moment().startOf('month'), moment().endOf('month')],
                                'Last Month'  : [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                                },
                                startDate: moment().subtract(29, 'days'),
                                endDate  : moment()
                                },
                                function (start, end) {
                                $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'))
                                }
                                )
                                //Timepicker
                                $('#timepicker').datetimepicker({
                                format: 'LT'
                                })
                                //Bootstrap Duallistbox
                                $('.duallistbox').bootstrapDualListbox()
                                //Colorpicker
                                $('.my-colorpicker1').colorpicker()
                                //color picker with addon
                                $('.my-colorpicker2').colorpicker()
                                $('.my-colorpicker2').on('colorpickerChange', function(event) {
                                $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
                                });
                                $("input[data-bootstrap-switch]").each(function(){
                                $(this).bootstrapSwitch('state', $(this).prop('checked'));
                                });
                                })


                            .modal-footer.justify-content-between
                              button.btn.btn-default(type='button', data-dismiss='modal') ዝጋ
                              button.btn.btn-primary(type='button' onclick="addmembers('#{user.gubaye._id}');") ጨምር                          // /.modal-content
                          // /.modal-dialog



                      #education.tab-pane
                        .row
                          .col-9  
                            each val in JoinedClass
                             .col-12.col-sm-6.col-md-4
                               .info-box.mb-3
                                 span.info-box-icon.bg-success.elevation-1
                                   i.fas.fa-book
                                 .info-box-content
                                   a(href="/SirateTimhert/course/Gubaye_Nius_Sebsabi/#{val.id}/#{user.gubaye._id}") #{val.name}
                                   a(href="/SirateTimhert/course/remove/#{val.id}/#{user.gubaye._id}")                                  
                                     button(type='button', class="btn btn-block btn-danger btn-xs") Remove
                            button(type='button', class="btn btn-block btn-primary btn-lg", data-toggle='modal', data-target='#modal-course')
                              .fas.fa-plus.nav-plus
                            a(href="#" class="users-list-name") አዲስ ኮርስ ጨምር
                      #modal-course.modal.fade(style='display: none;', aria-hidden='true')
                        .modal-dialog.modal-course
                          .modal-content
                            .modal-header
                              h4.modal-title ጉባኤ #{user.gubaye.name} : አዲስ ኮርስ ለመጨመር ይምረጡ
                              button.close(type='button', data-dismiss='modal', aria-label='Close')
                                span(aria-hidden='true') ×
                            .modal-body
                              // Font Awesome
                              link(rel='stylesheet', href='/ADMINLITE/plugins/fontawesome-free/css/all.min.css')
                              // Ionicons
                              link(rel='stylesheet', href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
                              // daterange picker
                              link(rel='stylesheet', href='/ADMINLITE/plugins/daterangepicker/daterangepicker.css')
                              // iCheck for checkboxes and radio inputs
                              link(rel='stylesheet', href='/ADMINLITE/plugins/icheck-bootstrap/icheck-bootstrap.min.css')
                              // Bootstrap Color Picker
                              link(rel='stylesheet', href='/ADMINLITE/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css')
                              // Tempusdominus Bbootstrap 4
                              link(rel='stylesheet', href='/ADMINLITE/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css')
                              // Select2
                              link(rel='stylesheet', href='/ADMINLITE/plugins/select2/css/select2.min.css')
                              link(rel='stylesheet', href='/ADMINLITE/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css')
                              // Bootstrap4 Duallistbox
                              link(rel='stylesheet', href='/ADMINLITE/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css')
                              // Theme style
                              link(rel='stylesheet', href='/ADMINLITE/dist/css/adminlte.min.css')
                              // Google Font: Source Sans Pro
                              link(href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700', rel='stylesheet')
                              .form-group(data-select2-id='39')
                                label ወደ ጉባኤው ለማስገባት የሚፈልጉትን ኮርስ ይምረጡና ሲጨርስሱ Save የሚለውን በተን ይጫኑ 
                                select.select2.select2-hidden-accessible(multiple='', data-placeholder='ኮርስ ይምረጡ', style='width: 100%;', data-select2-id='7', tabindex='-1', aria-hidden='true')
                                  each course in unjoinedCourses
                                    option(data-select2-id='#{course._id}' value='#{course._id}') #{course.name}
                               // Bootstrap 4
                              script(src='/ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
                              // Select2
                              script(src='/ADMINLITE/plugins/select2/js/select2.full.min.js')
                              // Bootstrap4 Duallistbox
                              script(src='/ADMINLITE/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js')
                              // InputMask
                              script(src='/ADMINLITE/plugins/moment/moment.min.js')
                              script(src='/ADMINLITE/plugins/inputmask/min/jquery.inputmask.bundle.min.js')
                              // date-range-picker
                              script(src='/ADMINLITE/plugins/daterangepicker/daterangepicker.js')
                              // bootstrap color picker
                              script(src='/ADMINLITE/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js')
                              // Tempusdominus Bootstrap 4
                              script(src='/ADMINLITE/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js')
                              // Bootstrap Switch
                              script(src='/ADMINLITE/plugins/bootstrap-switch/js/bootstrap-switch.min.js')
                              // AdminLTE App
                              script(src='/ADMINLITE/dist/js/adminlte.min.js')
                              // AdminLTE for demo purposes
                              script(src='/ADMINLITE/dist/js/demo.js')
                              // Page script
                              script.
                                $(function () {
                                //Initialize Select2 Elements
                                $('.select2').select2()
                                //Initialize Select2 Elements
                                $('.select2bs4').select2({
                                theme: 'bootstrap4'
                                })
                                //Datemask dd/mm/yyyy
                                $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                                //Datemask2 mm/dd/yyyy
                                $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
                                //Money Euro
                                $('[data-mask]').inputmask()
                                //Date range picker
                                $('#reservation').daterangepicker()
                                //Date range picker with time picker
                                $('#reservationtime').daterangepicker({
                                timePicker: true,
                                timePickerIncrement: 30,
                                locale: {
                                format: 'MM/DD/YYYY hh:mm A'
                                }
                                })
                                //Date range as a button
                                $('#daterange-btn').daterangepicker(
                                {
                                ranges   : {
                                'Today'       : [moment(), moment()],
                                'Yesterday'   : [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                                'Last 7 Days' : [moment().subtract(6, 'days'), moment()],
                                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                                'This Month'  : [moment().startOf('month'), moment().endOf('month')],
                                'Last Month'  : [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                                },
                                startDate: moment().subtract(29, 'days'),
                                endDate  : moment()
                                },
                                function (start, end) {
                                $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'))
                                }
                                )
                                //Timepicker
                                $('#timepicker').datetimepicker({
                                format: 'LT'
                                })
                                //Bootstrap Duallistbox
                                $('.duallistbox').bootstrapDualListbox()
                                //Colorpicker
                                $('.my-colorpicker1').colorpicker()
                                //color picker with addon
                                $('.my-colorpicker2').colorpicker()
                                $('.my-colorpicker2').on('colorpickerChange', function(event) {
                                $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
                                });
                                $("input[data-bootstrap-switch]").each(function(){
                                $(this).bootstrapSwitch('state', $(this).prop('checked'));
                                });
                                })


                            .modal-footer.justify-content-between
                              button.btn.btn-default(type='button', data-dismiss='modal') ዝጋ
                              button.btn.btn-primary(type='button' onclick="addCourse('#{user.gubaye._id}');") ጨምር
                          // /.modal-content
                          // /.modal-dialog

                      #management.tab-pane
                        p የጉባኤ ስም መሰየም እና መቀየር ፣ ጉባኤ ማጥፋት ፣ Description መሙላት
                        .row
                          .col-md-3
                            // Profile Image
                            .card.card-primary.card-outline
                              .card-body.box-profile
                                .text-center
                                  img.profile-user-img.img-fluid.img-circle(src='/ADMINLITE/dist/img/user4-128x128.jpg', alt='User profile picture')
                                |                 
                                h3.profile-username.text-center ጉባኤ #{user.gubaye.name}
                                |                 
                                p.text-muted.text-center
                                |                 
                                ul.list-group.list-group-unbordered.mb-3
                                  li.list-group-item
                                    b ዝርዝር
                                    p #{user.gubaye.description}
                                a.btn.btn-danger.btn-block(href='#' onclick="deleteGubaye()")
                                  b ጉባኤውን ሰርዝ
                              // /.card-body
                            // /.card
                            // About Me Box
                          .col-md-9
                            .card
                              .card-header.p-2
                                ul.nav.nav-pills                 
                                  li.nav-item
                                    a.nav-link.active(href='#settings', data-toggle='tab') Settings
                              // /.card-header
                              .card-body
                                .tab-content
                                  #settings.active.tab-pane
                                    form(method="post", action="../Gubaye/Update").form-horizontal
                                      .form-group.row
                                        label.col-sm-2.col-form-label(for='inputName') የጉባኤው ስም
                                        |                         
                                        .col-sm-10
                                          input.form-control(type='text', placeholder='የጋባኤው ስም', value="#{user.gubaye.name}", id="name", name='name')
                                        |                       
                                      .form-group.row
                                        label.col-sm-2.col-form-label(for='inputEmail') ዝርዝር
                                        |                         
                                        .col-sm-10
                                          input.form-control(type='text', placeholder='ዝርዝር', value="#{user.gubaye.description}", id="description", name='description')
                                      |                      
                                      .form-group.row
                                        label.col-sm-2.col-form-label(for='inputTel') ጉባኤ አስተዳዳሪ
                                        |                         
                                        .col-sm-10
                                          input.form-control(type='text', placeholder='ጉብኤ አስተዳዳሪ', value="#{user.gubaye.leader}", id="admin", name='admin') 
                                          input(type='hidden', placeholder='የጋባኤው ስም', value="#{user.gubaye._id}", name='_id', id='_id')
                                      |                       
                                      .form-group.row
                                        .offset-sm-2.col-sm-10
                                          button.btn.btn-primary(type='button' onclick="updateGubaye()") Submit
                                  // /.tab-pane
                                // /.tab-content
                              // /.card-body
                            // /.nav-tabs-custom
                          // /.col
                    
                    // /.tab-content
                  // /.card-body
                // /.nav-tabs-custom
              // /.col
            // /.row
          // /.container-fluid
        // Main content
        section.content
          .container-fluid
          // /.container-fluid
        // /.content
      // /.content-wrapper
      footer.main-footer
        .float-right.d-none.d-sm-block
          b Version
          |  3.0.2-pre
        |     
        strong
          | Copyright &copy; 2014-2019 
          a(href='http://adminlte.io') AdminLTE.io
          | .
        |  All rights
        |     reserved.
      // Control Sidebar
      aside.control-sidebar.control-sidebar-dark
        // Control sidebar content goes here
      // /.control-sidebar
    // ./wrapper
    // jQuery
    // Bootstrap 4
    script(src='/ADMINLITE/ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
    // AdminLTE App
    script(src='/ADMINLITE/ADMINLITE/dist/js/adminlte.min.js')
    // AdminLTE for demo purposes
    script(src='/ADMINLITE/ADMINLITE/dist/js/demo.js')
    // DataTables
  script(src='/ADMINLITE/ADMINLITE/plugins/datatables/jquery.dataTables.js')
  script(src='/ADMINLITE/ADMINLITE/plugins/datatables-bs4/js/dataTables.bootstrap4.js')
  script(src='/ADMINLITE/ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
  // DataTables
  link(rel='stylesheet', href='/ADMINLITE/plugins/datatables-bs4/css/dataTables.bootstrap4.css')
  script.
    document.getElementById('3').className = "nav-link active"
    document.getElementById('#{user.GubayeID}').className = "nav-link active"
    $(function () {
      $("#example1").DataTable();
      $('#example2').DataTable({
        "paging": true,
        "lengthChange": false,
        "searching": false,
        "ordering": true,
        "info": true,
        "autoWidth": false,
      });
    });
