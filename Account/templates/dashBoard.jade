doctype html
include ../../SharedComponents/Layouts/header.jade
// jQuery
script(src='../../ADMINLITE/plugins/jquery/jquery.min.js')
// Bootstrap 4
script(src='../../ADMINLITE/plugins/bootstrap/js/bootstrap.bundle.min.js')
// AdminLTE App
script(src='../../ADMINLITE/dist/js/adminlte.min.js')
// AdminLTE for demo purposes
script(src='../../ADMINLITE/dist/js/demo.js')  
script(src="../../ADMINLITE/plugins/datatables/jquery.dataTables.js")
script(src="../../ADMINLITE/plugins/datatables-bs4/js/dataTables.bootstrap4.js")
script.
  $(function () {
  $('#example1').DataTable({
    "paging": true,
    "lengthChange": true,
    "searching": true,
    "ordering": true,
    "info": true,
    "autoWidth": true,
  });
  $('#example2').DataTable({
    "paging": true,
    "lengthChange": true,
    "searching": true,
    "ordering": true,
    "info": true,
    "autoWidth": true,
  });
  $('#example3').DataTable({
    "paging": true,
    "lengthChange": true,
    "searching": true,
    "ordering": true,
    "info": true,
    "autoWidth": true,
  });
  }); 
  $('#example4').DataTable({
    "paging": true,
    "lengthChange": true,
    "searching": true,
    "ordering": true,
    "info": true,
    "autoWidth": true,
  });
  }); 
html
  head
    meta(charset='utf-8')
    |   
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    |   
    title ዳሽ ቦርድ
    // Tell the browser to be responsive to screen width
    meta(name='viewport', content='width=device-width, initial-scale=1')
    // Font Awesome
    link(rel='stylesheet', href='static/plugins/fontawesome-free/css/all.min.css')
    // Ionicons
    link(rel='stylesheet', href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
    // Theme style
    link(rel='stylesheet', href='static/dist/css/adminlte.min.css')
    // Google Font: Source Sans Pro
    link(href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700', rel='stylesheet')
  body.hold-transition.sidebar-mini
    .wrapper
      // Navbar
      include ../../SharedComponents/Layouts/navigation.jade
      // Main Sidebar Container
      include ../../SharedComponents/Layouts/sidebarNU.jade
      // Content Wrapper. Contains page content
      .content-wrapper
        // Content Header (Page header)
        section.content-header
          .container-fluid
            .row.mb-2
              .col-sm-6
                h1 ዳሽ ቦርድ ዝርዝር
                br
        
              .col-sm-6
                ol.breadcrumb.float-sm-right
                  li.breadcrumb-item
                    a(href='../../../../STB/Accounts/home') ቤት
                  li.breadcrumb-item.active ዳሽ ቦርድ
                  
              .col-sm-12
                .row
                  .col-12
                    .card
                      .card-header.p-2
                        ul.nav.nav-pills
                          li.nav-item
                            if(tab == "students")
                              a.nav-link.active(href='#students' data-toggle='tab') ተማሪዎች 
                            else
                              a.nav-link(href='#students' data-toggle='tab') ተማሪዎች                            
                          li.nav-item
                            if(tab == "courses")
                              a.nav-link.active(href='#courses' data-toggle='tab') ኮርሶች 
                            else
                              a.nav-link(href='#courses' data-toggle='tab') ኮርሶች 
                          li.nav-item
                            if(tab == "groups")
                              a.nav-link.active(href='#groups' data-toggle='tab') ጉባኤያት 
                            else
                              a.nav-link(href='#groups' data-toggle='tab') ጉባኤያት 
                          li.nav-item
                            if(tab == "members")
                              a.nav-link.active(href='#members' data-toggle='tab') የትምህርት ክፍል አባላት 
                            else
                              a.nav-link(href='#members' data-toggle='tab') የትምህርት ክፍል አባላት 
                          li.nav-item
                            if(tab == "curriculums")
                              a.nav-link.active(href='#curriculums' data-toggle='tab') ስርዓተ ትምህርት 
                            else
                              a.nav-link(href='#curriculums' data-toggle='tab')  ስርዓተ ትምህርት
      

      
                      .card-body(style="overflow-x:auto")
                        .tab-content
                            if(tab == "students")
                              #students.active.tab-pane
                                table#example1.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th አለማዊ ስም
                                      th ክርስትና ስም
                                      th ስልክ ቁጥር
                                      th ኢሜል
                                      th የተመዘገበበት ቀን
                                  tbody
                                    script.
                                      var rank = 0;
                                    each user in dashUsers
                                      tr
                                        td 
                                          div(id= "number_#{user._id}")
                                        td 
                                          a(href="/STB/accounts/public/profile/#{user.telephone}") #{user.name}
                                        td #{user.cname}
                                        td #{user.telephone}
                                        td #{user.email}
                                        td #{user.createdAt}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{user._id}').innerText =  rank
                            else
                              #students.tab-pane
                                table#example1.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th አለማዊ ስም
                                      th ክርስትና ስም
                                      th ስልክ ቁጥር
                                      th ኢሜል
                                      th የተመዘገበበት ቀን
                                  tbody
                                    script.
                                      var rank = 0;
                                    each user in dashUsers
                                      tr
                                        td 
                                          div(id= "number_#{user._id}")
                                        td 
                                          a(href="/STB/accounts/public/profile/#{user.telephone}") #{user.name}
                                        td #{user.cname}
                                        td #{user.telephone}
                                        td #{user.email}
                                        td #{user.createdAt}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{user._id}').innerText =  rank

                            if(tab == "courses")
                              #courses.active.tab-pane
                                table#example2.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th የኮርስ ስም
                                      th የተከፈተበት ቀን
                                      th አቴንዳንስ
                                      th መጻሕፍቶች
                                      th ጉባኤያት
                                  tbody
                                    script.
                                      var rank = 0;
                                    each course in dashCourses
                                      tr
                                        td 
                                          div(id= "number_#{course._id}")
                                        td
                                          a(href="/STB/SirateTimhert/course/sebsabi/#{course._id}") #{course.name}
                                        td #{course.createdAt}
                                        td #{course.attendance.length}
                                        td #{course.books.length}
                                        td #{course.markListColumnName.length}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{course._id}').innerText =  rank
                                //- each course in courses
                                //-   p #{course.name}

                            else
                              #courses.tab-pane
                                table#example2.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th የኮርስ ስም
                                      th የተከፈተበት ቀን
                                      th አቴንዳንስ
                                      th መጻሕፍቶች
                                      th ጉባኤያት
                                  tbody
                                    script.
                                      var rank = 0;
                                    each course in dashCourses
                                      tr
                                        td 
                                          div(id= "number_#{course._id}")
                                        td
                                          a(href="/STB/SirateTimhert/course/sebsabi/#{course._id}") #{course.name}
                                        td #{course.createdAt}
                                        td #{course.attendance.length}
                                        td #{course.books.length}
                                        td #{course.markListColumnName.length}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{course._id}').innerText =  rank
                                
                            if(tab == "groups")
                              #groups.active.tab-pane
                                table#example3.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th የጉባኤ ስም
                                      th የተከፈተበት ቀን
                                      th የአባላት ብዛት
                                      th አስተዳዳሪ
                                      th የተጨመሩ ኮርሶች
                                  tbody
                                    script.
                                      var rank = 0;
                                    each gubaye in dashClassRooms
                                      tr
                                        td 
                                          div(id= "number_#{gubaye._id}")
                                        td 
                                          a(href="/STB/SirateTimhert/Gubaye_Sebsabi/#{gubaye._id}") #{gubaye.name}
                                        td #{gubaye.createdAt}
                                        td #{gubaye.members.length}
                                        td #{gubaye.leader}
                                        td #{gubaye.addedCourses.length}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{gubaye._id}').innerText =  rank
                            else
                              #groups.tab-pane
                                table#example3.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th የጉባኤ ስም
                                      th የተከፈተበት ቀን
                                      th የአባላት ብዛት
                                      th አስተዳዳሪ
                                      th የተጨመሩ ኮርሶች
                                  tbody
                                    script.
                                      var rank = 0;
                                    each gubaye in dashClassRooms
                                      tr
                                        td 
                                          div(id= "number_#{gubaye._id}")
                                        td
                                          a(href="/STB/SirateTimhert/Gubaye_Sebsabi/#{gubaye._id}") #{gubaye.name}
                                        td #{gubaye.createdAt}
                                        td #{gubaye.members.length}
                                        td #{gubaye.leader}
                                        td #{gubaye.addedCourses.length}
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_#{gubaye._id}').innerText =  rank
                                //- each course in courses
                                //-   p #{course.name}
                            if(tab == "members")
                              #members.active.tab-pane
                                table#example3.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th ስም
                                      th ክርስትና ስም
                                      th ስልክ ቁጥር
                                      th ኢሜል
                                      th ሰብሳቢ
                                      th ጸሕፊ
                                      th ስርዓተ ትምህርት ሰብሳቢ
                                      th ስርዓተ ትምህርት አባል
                                      th መምህራን ምደባ ሰብሳቢ
                                      th መምህራን ምደባ አባል
                                      th የአብነት ትምህርት ሰብሳቢ
                                      th የአብነት ትምህርት አባል
                                      th የርቀት ትምህርት ሰብሳቢ
                                      th የርቀት ትምህርት አባል
                                  tbody
                                    script.
                                      var rank = 0;
                                    each member in dashMembers
                                      tr
                                        td 
                                          div(id= "number_M_#{member._id}")
                                        td
                                          a(href="/STB/accounts/public/profile/#{member.telephone}") #{member.name}
                                        td #{member.cname}
                                        td #{member.telephone}
                                        td #{member.email}
                                        each role in member.work[0].subDepartment
                                          if(role.active)
                                            td አዎ
                                          else
                                            td 
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_M_#{member._id}').innerText =  rank
                            else
                              #members.tab-pane
                                table#example3.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ቁጥር
                                      th ስም
                                      th ክርስትና ስም
                                      th ስልክ ቁጥር
                                      th ኢሜል
                                      th ሰብሳቢ
                                      th ጸሕፊ
                                      th ስርዓተ ትምህርት ሰብሳቢ
                                      th ስርዓተ ትምህርት አባል
                                      th መምህራን ምደባ ሰብሳቢ
                                      th መምህራን ምደባ አባል
                                      th የአብነት ትምህርት ሰብሳቢ
                                      th የአብነት ትምህርት አባል
                                      th የርቀት ትምህርት ሰብሳቢ
                                      th የርቀት ትምህርት አባል
                                  tbody
                                    script.
                                      var rank = 0;
                                    each member in dashMembers
                                      tr
                                        td 
                                          div(id= "number_M_#{member._id}")
                                        td
                                          a(href="/STB/accounts/public/profile/#{member.telephone}") #{member.name}
                                        td #{member.cname}
                                        td #{member.telephone}
                                        td #{member.email}
                                        each role in member.work[0].subDepartment
                                          if(role.active)
                                            td አዎ
                                          else
                                            td 
                                      script.
                                        rank = 1 + rank
                                        document.getElementById('number_M_#{member._id}').innerText =  rank
                            if(tab == "curriculums")
                              #curriculums.active.tab-pane
                                table#example4.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ስም
                                      th መስራች
                                      th ክፍል
                                      th ኮርሶች
                                      th ዝርዝር 
                                  each curriculum in dashCurriculums
                                    script. 
                                      var coursesCount = 0;
                                    tr 
                                      td 
                                        a(href="/STB/SirateTimhert/DepartmentAdmin/curriculum/#{curriculum._id}") #{curriculum.name}
                                      td #{curriculum.created_By}
                                      td #{curriculum.grades.length}
                                      td 
                                        #courseCount 
                                      each grade in curriculum.grades
                                        script.
                                          coursesCount = coursesCount + #{grade.courses.length};
                                          document.getElementById("courseCount").innerText = coursesCount; 
                                      
                                      td #{curriculum.description}
                            else
                              #curriculums.tab-pane
                                table#example4.table.table-bordered.table-striped
                                  thead
                                    tr
                                      th ስም
                                      th መስራች
                                      th ክፍል
                                      th ኮርሶች
                                      th ዝርዝር 
                                  each curriculum in dashCurriculums
                                    script. 
                                      var coursesCount = 0;
                                    tr 
                                      td 
                                        a(href="/STB/SirateTimhert/DepartmentAdmin/curriculum/#{curriculum._id}") #{curriculum.name}
                                      td #{curriculum.created_By}
                                      td #{curriculum.grades.length}
                                      td 
                                        #courseCount 
                                      each grade in curriculum.grades
                                        script.
                                          coursesCount = coursesCount + #{grade.courses.length};
                                          document.getElementById("courseCount").innerText = coursesCount; 
                                      
                                      td #{curriculum.description}
        section.content
          .container-fluid
        // /.content
      // /.content-wrapper
      footer.main-footer 
        include ../../SharedComponents/Layouts/footer.jade